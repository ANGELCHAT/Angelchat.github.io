---
weight: 40
category: "messaging"
subcategory: "chat-sdk"
title: "Chat SDK"
tagline: ""
desc: ""
---

# Introduction

**Chat SDK** was designed to help developers build apps in a quick and easy way. Under the hood, it makes use of the LiveChat [Messaging APIs](/messaging/), taking care of this part for you.
By default, Chat SDK comes with a method for sending plain text messages, which is a great starting point for further development.
Based on the method template we provide, you can easily build other methods.
Thanks to that, you have the flexibility to cover the functionalities you need for your app, for example sending rich messages.
If Messaging APIs seem too intimidating or you just want to build something real quick, **Chat SDK** is your way to go.

## Versioning

This is the version 0.1.0 of Chat SDK.

## Initial configuration

### Authorization

To use Chat SDK, you will need to provide an access token authorizing you with the [Agent Chat API](/messaging/agent-chat-api/rtm-reference/).
If you don't know how to get one, make sure to check out these resources:

- [Agent authorization flows](/getting-started/authorization/#agent-authorization-flows/)
- [Messaging APIs in practice](/getting-started/guides/messaging-apis-in-practice/)
  You need to add the access token to the `chat` variable in the file `logic.js`.

<CodeSample>
```js
    const chat = new ChatSDK({ account_token: ... })
```
</CodeSample>

### Debugging

A useful feature you can set in `logic.js` is the debugging mode. By default, it's turned off. But if you want to display all messages exchanged with the LiveChat API, you can turn it on
by setting `debug: true`. It may come in handy for troubleshooting as it will also display errors.

<CodeSample>
```js
    const chat = new ChatSDK({ account_token: ..., debug: true })
```
</CodeSample>

### Region

By default, you'll be connected to a data center in the United States. If you want to change the data center to Europe, specify `region: europe` in `logic.js`.

<CodeSample>
```js
    const chat = new ChatSDK({ account_token: ..., region: 'europe' })
```
</CodeSample>

### API version

By default, you'll make request to the current stable API version. To change it to different version, for example v3.2, set `api: v3.2` in `logic.js`.

<CodeSample>
```js
    const chat = new ChatSDK({ account_token: ..., apiVersion: '3.1' })
```
</CodeSample>

## Installing Chat SDK

<CodeSample>``` npm i @livechat/chat-sdk ```</CodeSample>

# Data structures

The LiveChat system is based on four basic types of entities - users, chats, events, and threads. All these concepts are thoroughly described in [Messaging Overview](/messaging/#key-concepts).

## Chats

Chats consist of threads.
Check out a sample [chat](/messaging/agent-chat-api/rtm-reference/#chats).

## Threads

Threads are parts of a chat. They consist of events. They provide continuous chat experience.
Check out a sample [thread](/messaging/agent-chat-api/rtm-reference/#thread).

## Events

You can listen for emitted events by subscribing to them with the [on](#on) or [once](#once) method. You can bind them with your custom JavaScript function, which gets executed every time an event occurs.
For example, your function can be executed every time a message has been received. You'll be notified about events with [push notifications](/messaging/agent-chat-api/rtm-reference/#pushes).
Check out sample [events](/messaging/agent-chat-api/rtm-reference/#events).

## Users

There are two basic types of users: Agent and Customer. Users can aprticipate in multiple concurrent chats.
Check out a sample:

- [Agent](/messaging/agent-chat-api/rtm-reference/#agent)
- [Customer](/messaging/agent-chat-api/rtm-reference/#customer)

# Methods

### init

This method intialize WebSocket connection, attach event listeners and then login Agent.

<CodeSample>```js chatSDK.init() ```</CodeSample>

### destroy

This method clears any held resources, removes all listeners and disconnects from the network. After using this method you won't be able to use the destroyed SDK's instance.

<CodeSample>```js chatSDK.destroy() ```</CodeSample>

### getAgentDetails

Method allow to gets information about currently logged agent.

#### Returned value (remove if not needed)

| Shape/State/Response | Data type |
| -------------------- | --------- |
| success              | boolean   |

<CodeSample>
```js 
  chatSDK.getAgentDetails() 
    .then(agentData => {
        // access to agent data object
    }) 
```
</CodeSample>

### sendTextMessage ------ (co brzmi lepiej sendTextMessage czy sendMessage?)

Description. This methods does this and that. It's used to...

#### Arguments

| Argument   | Data type | Notes                                       |
| ---------- | --------- | ------------------------------------------- |
| chat_id    | `string`  | Id of chat that you want to send a messages |
| message    | `string`  | Message content                             |
| recipients | `string`  | optional - default = 'all'                  |

#### Returned value (remove if not needed)

| Shape/State/Response | Data type | Notes |
| -------------------- | --------- | ----- |
| event_id             | `string`  |

<CodeSample>
```js
    const chatId = ...
    const message = 'Hello world'

    chatSDK.sendTextMessage(chatId, message)
        .then(event => {
            // get event_id or handle success scenario
        })
        .catch(error => {
            // access to error object
        })

````
</CodeSample>

### How to create other methods
This SDK supports the RTM transport. For that reason, make sure you use the [Agent Chat API RTM](/messaging/agent-chat-api/rtm-reference/) reference.
Here, we need to describe `methodFactory`.

// Tu by się przydał jeszcze link do [Agent Chat Methods](/messaging/agent-chat-api/rtm-reference/#methods) i jakaś informacja, ze wystarczy wzorować się na podanych request'ach.


Example method with [get_chats_summary methods](/messaging/agent-chat-api/rtm-reference/#get-chats-summary) from API documentation.
<CodeSample>
```js
    const getChatsSummary = (payload) => chatSDK.methodFactory({
        action: 'get_chats_summary',
        payload
    })

    getChatsSummary()
        .then(data => {
            // get list of chats
        })
        .catch(error => {
            // catch error object
        })
````

</CodeSample>

// ################## Ta część powinna znaleźć się w metodach #############################
### on
The **on** method subscribes to emitted events.

(Use a table if necessary)
| Header | Header | Header | Header |
| ---------- | ---------- | -------------|------------------------ |

// EVENTS:
'connect' - on WebSocket connection
'disconnect' -  on WebSocket disconnection
rest - https://developers.labs.livechatinc.com/docs/messaging/agent-chat-api/rtm-reference/#pushes

<CodeSample>
```js
    chatSDK.on('event_name', (data) => {
        console.log|(data)
    })
```
</CodeSample>

### off
The **off** method unsubsribes from emitted events.

<CodeSample>
```js
    chatSDK.off('event_name', (data) => {
        console.log|(data)
    })
```
</CodeSample>

### once
The **once** method subscribes to emitted events and unsubscribes right after the callback function has been called.

<CodeSample>
```js
  chatSDK.once('event_name', (data) => {
        console.log|(data)
    })
```
</CodeSample>

# Sample app
We've prepared a sample app to show you **Chat SDK** in action. It's primary function is to send text messages.
- where to download it from
- how to use it (instructions)
# Changelog
-- version, date of release --
Initial alpha release.
# Questions
If you found a bug or a typo, you can let us know directly on GitHub.
In case of any questions or feedback, don't hesitate to contact us at [developers@livechatinc.com](mailto:developers@livechatinc.com). We'll be happy to help!
